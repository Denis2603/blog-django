Проект простого сайта для ведения блогов
========================================

Основные возможности
--------------------

* Просмотр записей блогов списком или по одному
* Регистрация, авторизация и профиль пользователя
* Зарегистрированный пользователь может опубликовать запись, редактировать ее.
* К записи блога можно прикрепить несколько фотографий
* Переключение языка интерфейса: русский, английский, немецкий.
* Пакетная загрузка записей

### Планируемые изменения

* В настоящее время неудобно находить свои записи для их редактирования. Необходимо сделать раздел "Мои записи", с возможностью редактирования или удаления записи.
* Необходимо добавить возможность отключать публикацию записи без ее удаления.
* Добавить комментирование записей, как авторизованными пользователями, так и анонимно.
* Доработка дизайна сайта

Инструкция по установке и первому запуску 
-----------------------------------------
Установить зависимости:

```bash
pip install -r requirements.txt
```

Провести миграцию:

```bash
python manage.py makemigrations
python manage.py migrate
```

Создать администратора:

```bash
python manage.py createsuperuser
```

Запустить веб-сервер проекта:

```bash
python manage.py runserver
```

Работа с сайтом
---------------

### Регистрация пользователя
* Нажать на ссылку зарегистрироваться в правом верхнем углу проекта.
* Ввести логин пользователя, пароль, подтверждение пароля  

*После успешной регистрации откроется страница профиля, на которой можно будет указать ФИО, контактные данные, загрузить фото.*

### Возможности зарегистрированного пользователя

#### Редактирование профиля
Нажать на свое имя (или логин) в верхнем меню сайта.

#### Опубликовать запись
Ссылка "новая запись" в верхнем меню сайта

#### Загрузить несколько записей
Ссылка "загрузить записи" в верхнем меню сайта
В этом разделе можно загрузить файл CSV с заранее подготовленными записями блога.  
Формат файла:  
* Каждая запись - одна строка из двух полей, разделенных `;`  
* Первое поле - дата в формате `гггг-мм-дд`  
* Второе поле - текст записи, одной строкой.  
* Кодировка файла - UTF8 или Windows-1251  
Пример файла:

```text
2022-06-08;Алтай чудесен! Волшебная природа, прекрасные виды!
2022-06-20;Остров-государство Шри-Ланка находится на севере полуострова Индостан.

```

#### Выход из системы
Ссылка "выход" в верхнем меню сайта

### Возможности администратора

Создать администратора:

```bash
python manage.py createsuperuser
```
Для администрирования сайта нужно перейти по адресу:  
[http://127.0.0.1:8000/admin/](http://127.0.0.1:8000/admin/)

Административный раздел сайта дает возможность полностью управлять пользователями и записями блога.

### Разработчику

Фотографии блогов по умолчанию сохраняются в папке `\files\media\username\filename.ext`  
Часть `\files\media` задается в настройках Django, остальная часть пути задается в функции:
```python
# blog/views.py
def path_for_foto(instance, file_name):
    return Path('blog') / instance.blog.user.username / file_name
```

#### Тестирование
Код приложения покрыт тестами. Реализованы тесты для всех моделей, форм и представлений.  
При внесении изменений в код рекомендуется добавить тест для нового функционала и запустить тестирование следующей командой:  
```commandline
python manage.py test
```
